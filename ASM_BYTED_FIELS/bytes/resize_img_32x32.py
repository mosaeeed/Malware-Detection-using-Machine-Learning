# Import Libraries
from PIL import Image
import numpy as np

# reading data for csv file
malwarelist=np.genfromtxt('trainLabels.csv',delimiter=",",dtype=str)
malwarelist=malwarelist[1:]

# Setting Path
destination='/home/mohamed/Documents/GP/Dynamic_Detection/datasets/image_32/'
folder='/home/mohamed/Documents/GP/Dynamic_Detection/datasets/bytes_image/'

# Resize Image
#corrupted file names stored in the c_files list variable
c_files=['58kxhXouHzFd4g3rmInB','6tfw0xSL2FNHOCJBdlaA','a9oIzfw03ED4lTBCt52Y','cf4nzsoCmudt1kwleOTI','d0iHC6ANYGon7myPFzBe','da3XhOZzQEbKVtLgMYWv','fRLS3aKkijp4GH0Ds6Pv','IidxQvXrlBkWPZAfcqKT']
for name in malwarelist:
    b = ".bytes"
    nam=name[0].strip('"')
    if nam not in c_files:
        loc = folder+nam + b
        img=Image.open(folder+nam+".png")
        img = img.resize((32, 32), Image.BICUBIC)
        img.save(destination+nam+".png")